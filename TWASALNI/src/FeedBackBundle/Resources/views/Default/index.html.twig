{% extends 'base.html.twig' %}
    {# Image du body #}
    {% block slide %}
        <section id="page-title-area" class="section-padding overlay">
            <div class="container">
                <div class="row">
                    <!-- Page Title Start -->
                    <div class="col-lg-12">
                        <div class="section-title  text-center">
                            <h2>Contactez Nous !</h2>
                            <span class="title-line"><i class="fa fa-car"></i></span>
                            <p>Donnez vos Avis sur le system</p>
                        </div>
                    </div>
                    <!-- Page Title End -->
                </div>
            </div>
        </section>
    {% endblock %}
    {# Formulaire #}
{% block content %}
    <div class="contact-page-wrao section-padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 m-auto">
                    <div class="contact-form">
                        <form id="form_reclammation" method="post">
                            {{ form_start(formR) }}
                            <div class="row">
                                <div class="col-lg-6 col-md-6">
                                    <div class="email-input">
                                        <input type="text" placeholder=" Adresse Mail " name="email" id="email">
                                    </div>
                                    <span id="error_email"></span>
                                </div>
                                <div class="col-lg-6 col-md-6">
                                    <div class="name-input">
                                        {{ form_widget(formR.sujet) }}
                                    </div>
                                    <span id="error_sujet"></span>
                                </div>
                            </div>

                            <div class="message-input">
                                {{ form_widget(formR.contenu) }}
                                <span id="error_message"></span>
                            </div>

                            <div class="input-submit">
                                <button type="submit" name="envoyer" id="envoie" value="envoyer">Envoyer </button>
                            </div>
                            {{ form_end(formR) }}
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script language="JavaScript">
        document.forms[0].addEventListener("submit",function (event) {
            var regEmail = new RegExp('^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$','i');
            if(document.getElementById('email').value ===''){
                event.preventDefault();
                document.getElementById('error_email').textContent="L'Email ne peut pas etre vide ";
                document.getElementById('error_email').style.color='crimson';
            }
            else if(!(regEmail.test(document.getElementById('email').value))){
                event.preventDefault();
                document.getElementById('error_email').textContent='Email incorrect (ex: username@gmail.com)';
                document.getElementById('error_email').style.color='darkorange';
            }
            if(document.getElementById('sujet').value.length < 2){
                event.preventDefault();
                document.getElementById('error_sujet').textContent='Le Sujet est trop court ';
                document.getElementById('error_sujet').style.color='crimson';
            }
            if(document.getElementById('message').value.length < 5){
                event.preventDefault();
                document.getElementById('error_message').textContent='Le Message doit contenir 5 caracters min';
                document.getElementById('error_message').style.color='crimson';
            }
        })
    </script>

{% endblock%}